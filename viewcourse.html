<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn More</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

    <script>
      window.onload=async()=>{
        const name=localStorage.getItem('course');
            console.log(name);
            const response=await fetch(`http://127.0.0.1:8001/getcourse?courseName=${name}`);
            console.log(response);
            data=await response.json();
            console.log("Data",data);
            console.log("name",data.courseName);
            
            
            if(response.status!=404){
            console.log(data);
            document.getElementById("cname").innerHTML=data.courseName;
            // document.getElementById("cname").innerHTML=data.courseName;
            // document.getElementById("type").value=data.CourseType;
            document.getElementById("price").innerHTML=data.price;
            document.getElementById("desc").innerHTML=data.description;

            }
            else{
                window.location.href='/notfound.html';
            }
      }
      function editcourse(event){
        event.preventDefault()
        window.location.href = '/editcourse.html'


      }

      async function removecourse(){
        const cid = localStorage.getItem('course')
        const response = await fetch(`http://127.0.0.1:8001/deletecourse/${cid}`, {
            method: "DELETE",
            credentials: "include",
            headers: {
                'Content-Type': 'application/json'
            }
        });
        

        console.log(response.status);
        if(response.status == 200){
            alert("Successfully Deleted!")
            console.log("Deleted...");
            window.location.href = "/homepage.html"
            
        } else{
            alert("Error...")
        }
        
        //  response
      }
    </script>


    <body class="bg-purple-100">
        <div class="bg-purple-100 h-16 w-full shadow-xl">
            <div class="float-left  w-12 ">
                <img src="/HTML/kba_logo.webp">
            </div>
            <div>
                <nav>
                    <ul class="flex flex-row justify-end space-x-20 p-4 ">
                        <li><a href="homepage.html" class=" font-sans font-bold text-purple-950">HOME</a></li>
                        <li><a href="course.html" class=" text-purple-950 font-sans font-bold">COURSES</a></li>

                        <li><a href="addcourse.html" class=" text-purple-950 font-sans font-bold">ADD COURSE</a></li>
                        <li><a href="contact.html" class=" text-purple-950 font-sans font-bold">CONTACT US</a></li>
                        <li><a href="login.html" class=" text-purple-950 font-sans font-bold">LOGOUT</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="ml-96 mt-10 mb-10">
            <a href="course.html" class="text-xl">Back to Courses</a>
        </div>

        <div
            class="bg-purple-100 p-10 m-5 m-auto mt-3 rounded-lg shadow-lg shadow-indigo-700 ml-96 w-6/12 justify-center">
            <img src="/CSS/Images/blockchain.jpeg">
            <div>
                <h2 class="text-purple-950 text-3xl mt-4" id="cname">Blockchain</h2> <span
                        class="text-red-800 pl-12 text-xl font-bold" id="price">RS.1500</span><button type="submit"
                        class="bg-violet-700 text-white rounded-lg w-32 h-10 text-white border border-indigo-600 focus:ring-offset-2 ring-2 ml-4 mt-4 text-xl">Add
                        to Cart</button></h2>
            </div>

            <h3 class="text-purple-950 text-xl mt-4" id="desc">Description</h3>
            <p class="font-mono mt-4 justify-center">Blockchain is a decentralized, distributed digital ledger that
                records transactions
                across many computers so
                that the record cannot be altered retroactively without the alteration of all subsequent blocks and
                the
                consensus of the network.

                This technology uses cryptography to link blocks of data together, creating a secure and transparent
                chain
                of information. Blockchains are most commonly known for their use in cryptocurrencies like Bitcoin,
                but they
                have potential applications in various industries, including finance, healthcare, supply chain
                management,
                and voting systems.</p>

            <h4 class="text-purple-950 text-xl mt-4">Prerequisites</h4>
            <ul class="list-disc ml-4">
                <li>Basic understanding of blockchain technology</li>
                <li>Familarity with programmimg language</li>
                <li>Internet access</li>
            </ul>
            <h4 class="text-purple-950 text-xl mt-4">Features</h4>
            <ul class="list-disc ml-4">
                <li>40 hours of content</li>
                <li>Certificate of completion</li>
                <li>Access to community forums</li>
                <li>Downloadable resources</li>
                <li>27/4 support</li>
            </ul>
        </div>



        <div class="ml-96 mt-10 mb-2 float-right mr-28">
            <!-- <input type="button" value="Edit Course" class="bg-purple-100 "> -->
            <!-- <input type="button" value="Remove course" class="rmbtn"> -->
            <a href="editcourse.html"><button type="submit" class="bg-sky-500 w-28 text-white rounded-full h-10" onclick="editcourse(event)">Edit Course</button>
            <a href="#"><button type="submit" class="bg-red-500 w-32 text-white rounded-full h-10 ml-4" onclick="removecourse()">Remove Course</button></a></a>
        </div>


</div>
</body>
<footer>
    <p class="bg-purple-200 h-12 text-center  pt-2 text-purple-400 mt-96">&copy; This page All rights reserved</p>
</footer>

</html>